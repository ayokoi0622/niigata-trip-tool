import streamlit as st

# --- å…¨ä½“ã®ãƒ‡ã‚¶ã‚¤ãƒ³è¨­å®šï¼ˆå¯æ„›ã„ã‚«ãƒ©ãƒ¼ï¼‰ ---
# ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼ã‚’ãƒ”ãƒ³ã‚¯ç³»ã«ã—ã¦ã€å¯æ„›ã„çµµæ–‡å­—ã‚¢ã‚¤ã‚³ãƒ³ã‚’è¨­å®šã—ã¾ã™
st.set_page_config(
    page_title="æ–°æ½Ÿ1æ³Š2æ—¥ãƒ—ãƒ©ãƒ³ãƒŠãƒ¼",
    page_icon="â„ï¸",
    layout="centered",
    initial_sidebar_state="expanded",
    menu_items={
        'Get Help': 'https://www.google.com',
        'Report a bug': "https://www.google.com",
        'About': "# æ–°æ½Ÿæ—…è¡Œã®ãŸã‚ã®å¯æ„›ã„ãƒ—ãƒ©ãƒ³ãƒŠãƒ¼ã§ã™ğŸ’•"
    }
)

# èƒŒæ™¯è‰²ã‚„æ–‡å­—è‰²ã‚’èª¿æ•´ã™ã‚‹CSSï¼ˆå°‘ã—å°‚é–€çš„ã§ã™ãŒã‚³ãƒ”ãƒšã§OKï¼‰
st.markdown("""
<style>
/* å…¨ä½“ã®èƒŒæ™¯ã‚’è–„ã„ãƒ”ãƒ³ã‚¯ã« */
.stApp {
    background-color: #FFF0F5;
}
/* ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚’å°‘ã—æ¿ƒã„ãƒ”ãƒ³ã‚¯ã« */
[data-testid="stSidebar"] {
    background-color: #FFE4E1;
}
/* ãƒœã‚¿ãƒ³ã‚’å¯æ„›ãã™ã‚‹ */
div.stButton > button {
    background-color: #FFB6C1;
    color: white;
    border-radius: 10px;
    border: none;
}
div.stButton > button:hover {
    background-color: #FF69B4;
}
/* ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’å¯æ„›ã */
h1, h2, h3 {
    color: #D87093;
    font-family: 'Comic Sans MS', cursive, sans-serif;
}
</style>
""", unsafe_allow_html=True)


# --- ã“ã“ã‹ã‚‰ã‚¢ãƒ—ãƒªã®ä¸­èº« ---
st.title("ğŸŒ¸ æ–°æ½Ÿ1æ³Š2æ—¥ æº€å–«ãƒ—ãƒ©ãƒ³ãƒŠãƒ¼ ğŸŒ¸")
st.write("2025/12/27(åœŸ)-28(æ—¥) ã®æ—…è¡Œã‚’å¯æ„›ãã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºï¼")

# å®¿æ³Šå…ˆæƒ…å ±
st.success("ğŸ¨ **å®¿æ³Šå…ˆï¼šãƒ›ãƒ†ãƒ«ãƒªãƒ–ãƒãƒƒã‚¯ã‚¹æ–°æ½Ÿé§…å‰**\n\næ–°æ½Ÿé§…ãƒ»ä¸‡ä»£å£ã‹ã‚‰å¾’æ­©åœå†…ã§ã‚¢ã‚¯ã‚»ã‚¹æŠœç¾¤ã§ã™ã€‚")

# ============================================
# ã‚¿ãƒ–ã§æ©Ÿèƒ½ã‚’åˆ†ã‘ã‚‹ï¼ˆãƒ—ãƒ©ãƒ³ä½œæˆ / æŒã¡ç‰© / äºˆç®—ï¼‰
# ============================================
tab1, tab2, tab3 = st.tabs(["ğŸ“‹ ãƒ—ãƒ©ãƒ³ä½œæˆ", "ğŸ§³ æŒã¡ç‰©ãƒªã‚¹ãƒˆ", "ğŸ’° äºˆç®—è¨ˆç®—"])


# ============================================
# ã‚¿ãƒ–1ï¼šãƒ—ãƒ©ãƒ³ä½œæˆï¼ˆGoogleãƒãƒƒãƒ—é€£æºè¿½åŠ ï¼‰
# ============================================
with tab1:
    st.subheader("ä»Šã®æ°—åˆ†ã‚’æ•™ãˆã¦ãã ã•ã„ âœ¨")
    mood = st.radio("Q1. ã©ã‚“ãªæ—…ã«ã—ãŸã„ï¼Ÿ", 
                    ["ã¨ã«ã‹ãç¾å‘³ã—ã„ã‚‚ã®ã‚’é£Ÿã¹ãŸã„ï¼", "å†¬ã®è¡—ä¸¦ã¿ã‚’ã®ã‚“ã³ã‚Šæ­©ããŸã„", "ãŠæ´’è½ãªã‚¹ãƒãƒƒãƒˆã‚’å·¡ã‚ŠãŸã„"])

    lunch_pref = st.selectbox("Q2. 2æ—¥ç›®ã®ãƒ©ãƒ³ãƒã¯ä½•ç³»ï¼Ÿ", 
                             ["è´…æ²¢ã«æ—¥æœ¬æµ·ã®æµ·é®®ï¼", "æ–°æ½Ÿåç‰©ã‚¿ãƒ¬ã‹ã¤orã¸ããã°", "è½ã¡ç€ã„ãŸã‚«ãƒ•ã‚§ãƒ©ãƒ³ãƒ"])

    # --- ãƒ—ãƒ©ãƒ³ä½œæˆãƒœã‚¿ãƒ³ ---
    if st.button("ã“ã®æ°—åˆ†ã§ãƒ—ãƒ©ãƒ³ã‚’ä½œæˆã™ã‚‹ğŸ’•"):
        st.balloons()  # å¯æ„›ã„ãƒãƒ«ãƒ¼ãƒ³ãŒé£›ã³ã¾ã™ï¼
        st.info("ã‚ãªãŸã«ã´ã£ãŸã‚Šã®ãƒ¢ãƒ‡ãƒ«ã‚³ãƒ¼ã‚¹ã¯ã“ã¡ã‚‰ï¼")
        
        # --- 1æ—¥ç›®å¤œã®æ¡ˆå†…ï¼ˆGoogleãƒãƒƒãƒ—é€£æºï¼‰ ---
        st.subheader("ğŸŒ™ 1æ—¥ç›®å¤œï¼šæ–°æ½Ÿé§…å‰ã®ååº—ã§ä¹¾æ¯")
        st.write("æ–°æ½Ÿã«æ¥ãŸã‚‰çµ¶å¯¾ã«å¤–ã›ãªã„ã€äººæ°—ã®å±…é…’å±‹ã§ã™ã€‚å¹´æœ«ã¯éå¸¸ã«æ··ã¿åˆã†ã®ã§ä»Šã™ãäºˆç´„ã‚’ï¼")
        
        col1, col2 = st.columns(2)
        with col1:
            # Googleãƒãƒƒãƒ—ã®ãƒªãƒ³ã‚¯ã¯ã€Œhttps://www.google.com/maps/search/?api=1&query=åº—å+ä½æ‰€ã€ã§ä½œã‚Œã¾ã™
            st.markdown("### ğŸŸ ã„ã‹ã®å¢¨ æ–°æ½Ÿé§…å‰åº—")
            st.caption("é«˜ç´šæ„Ÿã‚ã‚‹å€‹å®¤ã¨æœ€é«˜ã®æµ·é®®ã€‚")
            st.link_button("äºˆç´„ãƒšãƒ¼ã‚¸ã¸", "https://www.yonekura-group.jp/shop/ikanosumi/")
            st.link_button("ğŸ“ Googleãƒãƒƒãƒ—ã§é–‹ã", "https://www.google.com/maps/search/?api=1&query=ã„ã‹ã®å¢¨+æ–°æ½Ÿé§…å‰åº—+æ–°æ½ŸçœŒæ–°æ½Ÿå¸‚ä¸­å¤®åŒºæ±å¤§é€š1-5-24")
            
        with col2:
            st.markdown("### ğŸ¶ äº”éƒ ä¸‡ä»£åº—")
            st.caption("åœ°å…ƒæ°‘ã«æ„›ã•ã‚Œã‚‹æ´»æ°—ã‚ã‚‹äººæ°—åº—ã€‚")
            st.link_button("äºˆç´„ãƒšãƒ¼ã‚¸ã¸", "https://tabelog.com/niigata/A1501/A150101/15000444/")
            st.link_button("ğŸ“ Googleãƒãƒƒãƒ—ã§é–‹ã", "https://www.google.com/maps/search/?api=1&query=äº”éƒ+ä¸‡ä»£åº—+æ–°æ½ŸçœŒæ–°æ½Ÿå¸‚ä¸­å¤®åŒºæ±å¤§é€š2-3-15")

        # --- ã‚¤ãƒ«ãƒŸãƒãƒ¼ã‚·ãƒ§ãƒ³æ¡ˆå†… ---
        st.divider()
        st.subheader("âœ¨ å†¬ã®é¢¨ç‰©è©©ï¼šå…‰ã®ãƒšãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ")
        st.markdown("""
        **ã€NIIGATAå…‰ã®ãƒšãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã€‘**
        - **å ´æ‰€ï¼š** æ–°æ½Ÿé§…å—å£ãƒ»ã‘ã‚„ãé€šã‚Šï¼ˆãƒ›ãƒ†ãƒ«ã¨åå¯¾å´ã€é§…ã‚’æŠœã‘ã¦ã™ãï¼‰
        - **æ™‚é–“ï¼š** 17:00 ã€œ 24:10
        - **å†…å®¹ï¼š** ç´„200æœ¬ã®ã‘ã‚„ããŒ16ä¸‡çƒã®å…‰ã§åŒ…ã¾ã‚Œã¾ã™ã€‚é£Ÿå¾Œã®æ•£æ­©ã«æœ€é©ï¼
        """)
        st.link_button("ğŸ“ Googleãƒãƒƒãƒ—ã§å ´æ‰€ã‚’è¦‹ã‚‹", "https://www.google.com/maps/search/?api=1&query=æ–°æ½Ÿé§…å—å£+ã‘ã‚„ãé€šã‚Š")

        # --- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ¼ã‚¹ ---
        st.divider()
        if mood == "ã¨ã«ã‹ãç¾å‘³ã—ã„ã‚‚ã®ã‚’é£Ÿã¹ãŸã„ï¼":
            st.write("**ã€1æ—¥ç›®ã€‘** ã½ã‚“ã—ã‚…é¤¨ã§åˆ©ãé…’ â†’ ãƒ”ã‚¢Bandaiã§æµ·é®®BBQ â†’ å¤œã¯äºˆç´„ã—ãŸå±…é…’å±‹ã¸ï¼")
            st.write(f"**ã€2æ—¥ç›®ã€‘** å¤ç”ºã‚¨ãƒªã‚¢ã‚’æ•£ç­– â†’ ãƒ©ãƒ³ãƒï¼š{lunch_pref} â†’ é§…ãƒ“ãƒ«CoCoLoã§ãŠåœŸç”£æ¢ã—")
        else:
            st.write("**ã€1æ—¥ç›®ã€‘** ä¸‡ä»£ã‚·ãƒ†ã‚¤ã§ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚° â†’ ä¿¡æ¿ƒå·æ²¿ã„ã®ã€ã‚„ã™ã‚‰ãå ¤ã€æ•£æ­© â†’ å¤œã¯å±…é…’å±‹ã¸ï¼")
            st.write(f"**ã€2æ—¥ç›®ã€‘** æœ±é·ºãƒ¡ãƒƒã‚»å±•æœ›å®¤ã§çµ¶æ™¯ â†’ ãƒ©ãƒ³ãƒï¼š{lunch_pref} â†’ æœ€å¾Œã«ã½ã‚“ã—ã‚…é¤¨ã§ãŠåœŸç”£")


# ============================================
# ã‚¿ãƒ–2ï¼šæŒã¡ç‰©ãƒªã‚¹ãƒˆï¼ˆé›ªå›½ä»•æ§˜ï¼‰
# ============================================
with tab2:
    st.subheader("ğŸ§³ å†¬ã®æ–°æ½Ÿãƒ»å¿…é ˆã‚¢ã‚¤ãƒ†ãƒ ")
    st.write("12æœˆæœ«ã®æ–°æ½Ÿã¯é›ªã®å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ã—ã£ã‹ã‚Šæº–å‚™ã—ã¾ã—ã‚‡ã†ï¼")
    
    # ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã§ãƒªã‚¹ãƒˆã‚’ä½œæˆ
    st.checkbox("ğŸ§£ ãƒãƒ•ãƒ©ãƒ¼ãƒ»ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆé¦–å…ƒã‚’æ¸©ã‚ã‚‹ã®ãŒé‡è¦ï¼ï¼‰")
    st.checkbox("ğŸ§¤ æ‰‹è¢‹ï¼ˆã‚¹ãƒãƒ›å¯¾å¿œã ã¨ä¾¿åˆ©ï¼‰")
    st.checkbox("ğŸ¥¾ æ»‘ã‚Šã«ãã„é´ãƒ»ãƒ–ãƒ¼ãƒ„ï¼ˆãƒ’ãƒ¼ãƒ«ã¯å±é™ºï¼ï¼‰")
    st.checkbox("ğŸ§¥ åšæ‰‹ã®ã‚³ãƒ¼ãƒˆãƒ»ãƒ€ã‚¦ãƒ³ã‚¸ãƒ£ã‚±ãƒƒãƒˆ")
    st.checkbox("â˜‚ï¸ æŠ˜ã‚ŠãŸãŸã¿å‚˜ï¼ˆé›ªã‚ˆã‚Šã‚‚é›¨ã‚„ã¿ãã‚ŒãŒå¤šã„ã§ã™ï¼‰")
    st.checkbox("ğŸ§´ ãƒãƒ³ãƒ‰ã‚¯ãƒªãƒ¼ãƒ ãƒ»ãƒªãƒƒãƒ—ï¼ˆä¹¾ç‡¥å¯¾ç­–ï¼‰")
    st.checkbox("ğŸ”‹ ãƒ¢ãƒã‚¤ãƒ«ãƒãƒƒãƒ†ãƒªãƒ¼ï¼ˆå¯’ã•ã§é›»æ± ã®æ¸›ã‚ŠãŒæ—©ã„ã§ã™ï¼‰")
    st.checkbox("ğŸ’Š å¸¸å‚™è–¬ãƒ»ã‚«ã‚¤ãƒ­")
    
    if st.button("ãƒã‚§ãƒƒã‚¯å®Œäº†ï¼"):
        st.balloons()
        st.success("æº–å‚™ãƒãƒƒãƒãƒªã§ã™ã­ï¼å®‰å¿ƒã—ã¦æ¥½ã—ã‚ã¾ã™ğŸ’•")


# ============================================
# ã‚¿ãƒ–3ï¼šäºˆç®—è¨ˆç®—æ©Ÿ
# ============================================
with tab3:
    st.subheader("ğŸ’° ã‹ã‚“ãŸã‚“äºˆç®—ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³")
    st.write("å¤§ã¾ã‹ãªè²»ç”¨ã‚’å…¥åŠ›ã—ã¦ã€åˆè¨ˆã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã—ã‚‡ã†ã€‚")

    # æ•°å­—ã‚’å…¥åŠ›ã™ã‚‹ãƒœãƒƒã‚¯ã‚¹ã‚’ä½œæˆï¼ˆåˆæœŸå€¤ã¯0ï¼‰
    transport = st.number_input("ğŸš„ å¾€å¾©äº¤é€šè²»ï¼ˆæ–°å¹¹ç·šãªã©ï¼‰", value=20000, step=1000)
    hotel = st.number_input("ğŸ¨ å®¿æ³Šè²»ï¼ˆ1äººã‚ãŸã‚Šï¼‰", value=8000, step=1000)
    dinner = st.number_input("ğŸ» 1æ—¥ç›®å¤œã®äºˆç®—", value=6000, step=500)
    lunch_day1 = st.number_input("ğŸ½ï¸ 1æ—¥ç›®ãƒ©ãƒ³ãƒãƒ»ã‚«ãƒ•ã‚§ä»£", value=2000, step=500)
    lunch_day2 = st.number_input("ğŸ½ï¸ 2æ—¥ç›®ãƒ©ãƒ³ãƒãƒ»ã‚«ãƒ•ã‚§ä»£", value=2500, step=500)
    omiyage = st.number_input("ğŸ ãŠåœŸç”£ä»£", value=5000, step=1000)
    other = st.number_input("ğŸ‘› ãã®ä»–ï¼ˆé›‘è²»ãƒ»äºˆå‚™è²»ï¼‰", value=3000, step=500)

    # åˆè¨ˆã‚’è¨ˆç®—
    total_cost = transport + hotel + dinner + lunch_day1 + lunch_day2 + omiyage + other

    st.divider()
    # å¤§ããªæ–‡å­—ã§åˆè¨ˆã‚’è¡¨ç¤ºï¼ˆ3æ¡åŒºåˆ‡ã‚Šã®ã‚«ãƒ³ãƒä»˜ãï¼‰
    st.metric(label="åˆè¨ˆäºˆæƒ³é‡‘é¡", value=f"{total_cost:,} å††")
    
    if total_cost > 50000:
        st.warning("ã¡ã‚‡ã£ã¨è´…æ²¢ãªæ—…ã«ãªã‚Šãã†ã§ã™ã­ï¼ğŸ’¸")
    else:
        st.info("è‰¯ã„æ„Ÿã˜ã®äºˆç®—è¨­å®šã§ã™ã­ï¼ğŸ‘")


# ============================================
# ã‚µã‚¤ãƒ‰ãƒãƒ¼ï¼ˆãŠã¾ã‘ï¼‰
# ============================================
with st.sidebar:
    st.header("ğŸŒ¡ï¸ ãŠå¤©æ°—æƒ…å ±")
    st.link_button("æ–°æ½Ÿå¸‚ã®é€±é–“å¤©æ°—äºˆå ± (tenki.jp)", "https://tenki.jp/forecast/4/18/47604/15100/")
    st.write("---")
    st.write("Made with â¤ï¸ for Niigata Trip")
